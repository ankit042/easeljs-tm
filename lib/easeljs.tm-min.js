(function(){var t,n,i,e,r={}.hasOwnProperty,s=function(t,n){function i(){this.constructor=t}for(var e in n)r.call(n,e)&&(t[e]=n[e]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};n=function(t,i){var e,r,s;s=[];for(e in i)r=i[e],Object.prototype.hasOwnProperty.call(i,e)&&("[object Object]"===Object.prototype.toString.call(r)?(t[e]={},s.push(n(t[e],r))):s.push(t[e]=r));return s},"undefined"!=typeof window&&null!==window&&(null==window.createjs&&(window.createjs={}),t=window.createjs),null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(null==(i=module.exports).createjs&&(i.createjs={}),t=module.exports.createjs),n(t,{tm:{}}),t.tm.Bitmap=function(n){function i(n){return n instanceof t.tm.BitmapData?this.initialize(n.canvas):(this.initialize(n),void 0)}return s(i,n),i}(t.Bitmap),t.tm.BitmapData=function(){function n(t,n){this.canvas=document.createElement("canvas"),this.canvas.width=t,this.canvas.height=n,this.ctx=this.canvas.getContext("2d")}var i,e,r,s;return r=t.Stage,i=t.Container,e=t.Shape,s=function(t){return"[object Number]"===Object.prototype.toString.call(t)},n.CHANNEL_RED=parseInt("1000",2),n.CHANNEL_GREEN=parseInt("0100",2),n.CHANNEL_BLUE=parseInt("0010",2),n.CHANNEL_ALPHA=parseInt("0001",2),n.prototype.noise=function(t,n,i,e,r,s,a,h,o){return null==i&&(i=88675123),null==e&&(e=!1),null==r&&(r=0),null==s&&(s=255),null==a&&(a=14),null==h&&(h=!1),null==o&&(o={x:0,y:0}),this._updatePixels(this._noise(t,n,i,e,r,s,a,h,o)),this},n.prototype._noise=function(i,e,r,s,a,h,o,l,u){var p,c,f,g,m,y,v,d,w,_,b,S,N,E,G,x,B,H,R,C,A,L,I,j;for(null==r&&(r=88675123),null==s&&(s=!1),null==a&&(a=0),null==h&&(h=255),null==o&&(o=14),null==l&&(l=!1),I=null!=u?u:{x:0,y:0},R=I.x,A=I.y,H=this.canvas.width,_=this.canvas.height,C=new t.tm.Xor128(r),E=Math.min(a,h),B=Math.abs(a-h),x=(o&n.CHANNEL_RED)/n.CHANNEL_RED,w=(o&n.CHANNEL_GREEN)/n.CHANNEL_GREEN,g=(o&n.CHANNEL_BLUE)/n.CHANNEL_BLUE,c=(o&n.CHANNEL_ALPHA)/n.CHANNEL_ALPHA,m=[],b=0,N=L=0,j=H*_;j>L;N=L+=1)y=R+N%H>>0,v=A+N/H>>0,y=y/i>>0,v=v/e>>0,s&&(y%=H,v%=_),S=v*H+y<<2,G=E+C.at(S++)%B,l?(d=f=G,S+=2):(d=E+C.at(S++)%B,f=E+C.at(S++)%B),p=E+C.at(S++)%B,m[b++]=G*x,m[b++]=d*w,m[b++]=f*g,m[b++]=255-p*c;return m},n.prototype.perlinNoise=function(t,n,i,e,r,s,a,h,o){return null==i&&(i=6),null==e&&(e=88675123),null==r&&(r=!1),null==s&&(s=.5),null==a&&(a=7),null==h&&(h=!1),null==o&&(o=[]),this._updatePixels(this._perlinNoise(t,n,i,e,r,s,a,h,o)),this},n.prototype._perlinNoise=function(n,i,e,r,s,a,h,o,l){var u,p,c,f,g,m,y,v,d,w,_,b,S,N,E,G,x,B,H,R,C,A,L;for(null==e&&(e=6),null==r&&(r=88675123),null==s&&(s=!1),null==a&&(a=.5),null==h&&(h=7),null==o&&(o=!1),null==l&&(l=[]),b=this.canvas.width,f=this.canvas.height,v=[],p=0,g=S=0;e>S;g=S+=1)c=1<<g,u=Math.pow(a,g),v[g]={offset:l[g],frequency:c,amplitude:u,width:n/c,height:i/c},p+=u;for(p=1/p,N=0,x=v.length;x>N;N++)y=v[N],y.amplitude*=p;for(E=0,B=v.length;B>E;E++)y=v[E],w=this._noise(y.width,y.height,r,s,0,255,h,o,y.offset),w=new t.tm.GaussianFilter(y.width,y.height,8).filter(b,f,w),y.pixels=w;for(_=[],G=0,H=v.length;H>G;G++)for(y=v[G],w=y.pixels,u=y.amplitude,m=A=0,R=w.length;R>A;m=++A)d=w[m],_[m]=(_[m]||0)+d*u;for(g=L=0,C=_.length;C>L;g=++L)d=_[g],_[g]=255&d;return _},n.prototype._scale=function(t,n,i){var e,r,s,a,h,o,l,u,p;if(1===n&&1===i)return t.slice();for(h=this.canvas.width,r=this.canvas.height,e=[],s=0,l=u=0;r>u;l=u+=1)for(o=p=0;h>p;o=p+=1)a=h*(l/i>>0)+(o/n>>0)<<2,e[s++]=t[a++],e[s++]=t[a++],e[s++]=t[a++],e[s++]=t[a++];return e},n.prototype._updatePixels=function(t){var n,i,e,r,s,a;for(n=(e=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)).data,i=s=0,a=t.length;a>s;i=++s)r=t[i],n[i]=r;return this.ctx.putImageData(e,0,0)},n}(),t.tm.Graphics=function(n){function i(){return e=i.__super__.constructor.apply(this,arguments)}var r;return s(i,n),r=Math.PI/2,i.getRGB=function(t,n,e,r){return i.__super__.constructor.getRGB.call(this,t>>0,n>>0,e>>0,r)},i.prototype.beginStroke=function(){var n;return n=new t.tm.RGB,t.tm.RGB.apply(n,arguments),i.__super__.beginStroke.call(this,n.toCSSString())},i.prototype.beginFill=function(){var n;return n=new t.tm.RGB,t.tm.RGB.apply(n,arguments),i.__super__.beginFill.call(this,n.toCSSString())},i.prototype.beginCircularGradientFill=function(n,i,e,s,a,h,o,l,u,p){var c,f,g,m,y,v;switch(e){case"hsv":e=t.tm.HSV.interpolate;break;case"rgb":e=t.tm.RGB.interpolate}for(f=[],m=[],y=r/s,g=v=0;s>=v;g=v+=1)c=y*g,f[g]=e(n,i,1-Math.cos(c)).toCSSString(),m[g]=Math.sin(c);return this.beginRadialGradientFill(f,m,a,h,o,l,u,p)},i}(t.Graphics),t.tm.HSV=function(){function n(i,e,r,s){var a,h,o,l,u,p,c,f;return this instanceof n?0===arguments.length||arguments.length>2?(this.h=null!=i?i:0,this.s=null!=e?e:0,this.v=null!=r?r:0,this.a=null!=s?s:1,this):i instanceof n?this.apply(i):(i instanceof t.tm.RGB?p=i:(p=new t.tm.RGB,t.tm.RGB.apply(p,arguments)),u=p.r,o=p.g,a=p.b,s=p.a,u/=255,o/=255,a/=255,i=e=r=0,c=u>=o?u:o,a>c&&(c=a),f=o>=u?u:o,f>a&&(f=a),r=c,h=c-f,e=0===c?0:h/c,0!==e&&(u===c?i=(o-a)/h:o===c?i=2+(a-u)/h:a===c&&(i=4+(u-o)/h),i*=60,0>i&&(i+=360)),this.h=i,this.s=e,this.v=r,this.a=s,void 0):(l=new n,n.apply(l,arguments),l)}return n.interpolate=function(t,i,e){var r,s,a,h,o;for(t instanceof n||(t=new n(t)),i instanceof n||(i=new n(i)),r=new n,o=["h","s","v","a"],a=0,h=o.length;h>a;a++)s=o[a],r[s]=t[s]+(i[s]-t[s])*e;return r.normalize()},n.prototype.clone=function(){return new n(this.h,this.s,this.v,this.a)},n.prototype.apply=function(t){return null!=t.h&&(this.h=t.h),null!=t.s&&(this.s=t.s),null!=t.v&&(this.v=t.v),null!=t.a&&(this.a=t.a),this},n.prototype.normalize=function(){return this.h=this.h%360,0>this.h&&(this.h+=360),0>this.s?this.s=0:this.s>1&&(this.s=1),0>this.v?this.v=0:this.v>1&&(this.v=1),0>this.a?this.a=0:this.a>1&&(this.a=1),this},n.prototype.equals=function(t){var n,i,e,r;return i=t.h,e=t.s,r=t.v,n=t.a,i===this.h&&e===this.s&&r===this.v&&n===this.a},n.prototype.toHex=function(){return t.tm.RGB(this).toHex()},n.prototype.toString=function(){return"[HSV] "+this.h+", "+this.s+", "+this.v+", "+this.a},n.prototype.toCSSString=function(){return t.tm.RGB(this).toCSSString()},n}(),t.tm.KernelFilter=function(n){function i(t,n,i){this.radiusX=t,this.radiusY=n,this.kernel=i}var e;return s(i,n),e=t.Rectangle,i.prototype.getBounds=function(){return new e(-(this.radiusX-1),-(this.radiusY-1),2*this.radiusX-1,2*this.radiusY-1)},i.prototype.applyFilter=function(t,n,i,e,r,s,a,h){var o,l,u,p;return null==s&&(s=t),null==a&&(a=n),null==h&&(h=i),o=t.getImageData(n,i,e,r),l=o.data,u=s.createImageData(e,r),p=u.data,this.filter(e,r,l,p),s.putImageData(u,a,h),!0},i.prototype.filter=function(t,n,i,e){var r,s,a,h,o,l,u,p,c,f,g,m,y,v,d,w,_,b,S,N,E;for(null==e&&(e=[]),o=this.kernel,y=this.radiusX-1,v=this.radiusY-1,l=y+this.radiusX,a=b=0,E=t*n;E>b;a=b+=1){for(w=a%t,_=a/t>>0,m=s=r=0,h=S=0,N=o.length;N>S;h=S+=1)d=o[h],u=h%l,p=h/l>>0,f=w-y+u,f=0>f?0:f>t-1?t-1:f,g=_-v+p,g=0>g?0:g>n-1?n-1:g,c=t*g+f<<2,m+=i[c]*d,s+=i[++c]*d,r+=i[++c]*d;c=t*_+w<<2,e[c]=255&m,e[++c]=255&s,e[++c]=255&r,e[++c]=i[c]}return e},i.prototype.clone=function(){return new i(this.radiusX,this.radiusY,this.kernel)},i.prototype.toString=function(){return"[KernelFilter]"},i}(t.Filter),t.tm.GaussianFilter=function(t){function n(t,i,e){var r,s,a,h,o,l,u,p,c,f,g,m,y,v,d,w,_,b,S,N,E,G,x,B,H,R,C,A,L,I;if(null==t&&(t=2),null==i&&(i=2),f=0,h=[],null!=e)for(c=2*e*e,_=b=A=1-i;i>b;_=b+=1)for(w=S=L=1-t;t>S;w=S+=1)g=1/(c*Math.PI)*Math.exp(-(w*w+_*_)/c),f+=g,h.push(g);else{for(u=[],l=N=0,I=2*Math.max(t,i)-1;I>=0?I>N:N>I;l=I>=0?++N:--N)for(u[l]=r=[],p=u[l-1],o=l+1,a=E=0;o>=0?o>E:E>o;a=o>=0?++E:--E)r[a]=0===a||a===o-1?1:p[a-1]+p[a];for(y=u[2*(t-1)],d=u[2*(i-1)],H=0,G=d.length;G>H;H++)for(v=d[H],R=0,x=y.length;x>R;R++)m=y[R],g=m*v,f+=g,h.push(g)}for(s=C=0,B=h.length;B>C;s=++C)g=h[s],h[s]/=f;n.__super__.constructor.call(this,t,i,h)}return s(n,t),n.prototype.clone=function(){var t;return t=new GaussianBlurFilter,t.kernel=this.kernel},n.prototype.toString=function(){return"[GaussianBlurFilter]"},n}(t.tm.KernelFilter),t.tm.RGB=function(){function n(i,e,r,s){var a,h,o,l,u,p,c,f,g,m,y;if(!(this instanceof n))return c=new n,n.apply(c,arguments),c;if(i instanceof n)return this.apply(i),void 0;if(i instanceof t.tm.HSV)switch(y=i.clone().normalize(),o=y.h,f=y.s,m=y.v,s=y.a,o/=60,l=o>>0,h=o-l,u=m*(1-f),p=m*(1-h*f),g=m*(1-(1-h)*f),u=255*u>>0,p=255*p>>0,g=255*g>>0,m=255*m>>0,l){case 0:this.apply(m,g,u,s);break;case 1:this.apply(p,m,u,s);break;case 2:this.apply(u,m,g,s);break;case 3:this.apply(u,p,m,s);break;case 4:this.apply(g,u,m,s);break;case 5:this.apply(m,u,p,s)}else{if("[object String]"===Object.prototype.toString.call(i)){if(a=i.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/))return this.r=parseInt(a[1],16),this.g=parseInt(a[2],16),this.b=parseInt(a[3],16),this.a=null!=e?e:1,void 0;if(a=i.match(/#([0-9a-f])([0-9a-f])([0-9a-f])/))return this.r=parseInt(""+a[1]+a[1],16),this.g=parseInt(""+a[2]+a[2],16),this.b=parseInt(""+a[3]+a[3],16),this.a=null!=e?e:1,void 0;if(a=i.match(/rgba\(\s*(\S+?)\s*,\s*(\S+?)\s*,\s*(\S+?)\s*,\s*(\S+?)\s*\)/))return this.r=+a[1],this.g=+a[2],this.b=+a[3],this.a=+a[4],void 0;if(a=i.match(/rgb\(\s*(\S+?)\s*,\s*(\S+?)\s*,\s*(\S+?)\s*\)/))return this.r=+a[1],this.g=+a[2],this.b=+a[3],this.a=null!=e?e:1,void 0}switch(arguments.length){case 1:case 2:this.r=255&i>>16,this.g=255&i>>8,this.b=255&i,this.a=null!=e?e:1;break;default:this.r=null!=i?i:0,this.g=null!=e?e:0,this.b=null!=r?r:0,this.a=null!=s?s:1}}}var i;return i=Math.pow(10,-6),n.interpolate=function(t,i,e){var r,s,a,h,o;for(t instanceof n||(t=new n(t)),i instanceof n||(i=new n(i)),s=new n,o=["r","g","b","a"],a=0,h=o.length;h>a;a++)r=o[a],s[r]=t[r]+(i[r]-t[r])*e;return s.normalize()},n.prototype.clone=function(){return new n(this.r,this.g,this.b,this.a)},n.prototype.apply=function(t,i,e,r){var s;return t instanceof n&&(s=t,t=s.r,i=s.g,e=s.b,r=s.a),this.r=t,this.g=i,this.b=e,this.a=null!=r?r:1},n.prototype.normalize=function(){return this.r&=255,this.g&=255,this.b&=255,this.a=this.a>1?1:i>this.a?0:this.a,this},n.prototype.toHex=function(){return this.r<<16|this.g<<8|this.b},n.prototype.toString=function(){return"[RGB] "+this.r+", "+this.g+", "+this.b+", "+this.a},n.prototype.toCSSString=function(){return this.normalize(),"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},n}(),t.tm.Xor128=function(){function t(t){this.w=null!=t?t:88675123,this.x=123456789,this.y=362436069,this.z=521288629,this.w&=4294967295,this.cache=[]}return t.prototype.at=function(t){for(;t>=this.cache.length;)this.random();return this.cache[t]},t.prototype.random=function(){var t;return t=this.x^this.x<<11,this.x=this.y,this.y=this.z,this.z=this.w,this.w=this.w^this.w>>19^(t^t>>8),this.cache.push(this.w),this.w},t}()}).call(this);